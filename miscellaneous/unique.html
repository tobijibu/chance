<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>unique() | Chance - にほんご。</title><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta property="og:title" content="unique() | Chance - にほんご。"><meta property="og:url"><meta property="og:type" content="article"><link rel="icon" href="https://tr.you84815.space/chance/favicon.ico"><link rel="stylesheet" href="../css/main.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-106478577-1', 'auto');</script></head><body><div id="container"><header><div class="icon"><a class="no-barba" href="https://tr.you84815.space/"><svg width="16" height="16"><rect width="16" height="16" fill="#e0e0e0"></rect></svg></a></div><div class="navi_toggle" onclick="toggleMenu()"><svg id="menu_close" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg><svg id="menu_open" width="24" height="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></div><div class="title">Chance - <a class="no-barba" href="https://tr.you84815.space/">にほんご。</a></div></header><div class="navi" id="navi"><ul class="menu"><li><a class="index" href="../index.html">Home</a></li><li><a class="introduction" href="../introduction.html">Introduction</a></li><li><span onclick="toggleNaviSubMenu('navi_usage')">Usage</span><ul class="hidden" id="navi_usage"><li><a href="../usage/bower.html">bower</a></li><li><a href="../usage/browser.html">browser</a></li><li><a href="../usage/cli.html">cli</a></li><li><a href="../usage/node.html">node</a></li><li><a href="../usage/requirejs.html">requirejs</a></li><li><a href="../usage/seed.html">seed</a></li><li><a href="../usage/function.html">function</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_basics')">Basics</span><ul class="hidden" id="navi_basics"><li><a href="../basics/bool.html">bool()</a></li><li><a href="../basics/character.html">character()</a></li><li><a href="../basics/floating.html">floating()</a></li><li><a href="../basics/integer.html">integer()</a></li><li><a href="../basics/letter.html">letter()</a></li><li><a href="../basics/natural.html">natural()</a></li><li><a href="../basics/string.html">string()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_text')">Text</span><ul class="hidden" id="navi_text"><li><a href="../text/paragraph.html">paragraph()</a></li><li><a href="../text/sentence.html">sentence()</a></li><li><a href="../text/syllable.html">syllable()</a></li><li><a href="../text/word.html">word()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_person')">Person</span><ul class="hidden" id="navi_person"><li><a href="../person/age.html">age()</a></li><li><a href="../person/birthday.html">birthday()</a></li><li><a href="../person/cf.html">cf()</a></li><li><a href="../person/cpf.html">cpf()</a></li><li><a href="../person/first.html">first()</a></li><li><a href="../person/gender.html">gender()</a></li><li><a href="../person/last.html">last()</a></li><li><a href="../person/name.html">name()</a></li><li><a href="../person/prefix.html">prefix()</a></li><li><a href="../person/ssn.html">ssn()</a></li><li><a href="../person/suffix.html">suffix()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_thing')">Thing</span><ul class="hidden" id="navi_thing"><li><a href="../thing/animal.html">animal()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_mobile')">Mobile</span><ul class="hidden" id="navi_mobile"><li><a href="../mobile/android_id.html">android_id()</a></li><li><a href="../mobile/apple_token.html">apple_token()</a></li><li><a href="../mobile/bb_pin.html">bb_pin()</a></li><li><a href="../mobile/wp7_anid.html">wp7_anid()</a></li><li><a href="../mobile/wp8_anid2.html">wp8_anid2()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_web')">Web</span><ul class="hidden" id="navi_web"><li><a href="../web/avatar.html">avatar()</a></li><li><a href="../web/color.html">color()</a></li><li><a href="../web/company.html">company()</a></li><li><a href="../web/domain.html">domain()</a></li><li><a href="../web/email.html">email()</a></li><li><a href="../web/fbid.html">fbid()</a></li><li><a href="../web/google_analytics.html">google_analytics()</a></li><li><a href="../web/hashtag.html">hashtag()</a></li><li><a href="../web/ip.html">ip()</a></li><li><a href="../web/ipv6.html">ipv6()</a></li><li><a href="../web/klout.html">klout()</a></li><li><a href="../web/profession.html">profession()</a></li><li><a href="../web/tld.html">tld()</a></li><li><a href="../web/twitter.html">twitter()</a></li><li><a href="../web/url.html">url()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_location')">Location</span><ul class="hidden" id="navi_location"><li><a href="../location/address.html">address()</a></li><li><a href="../location/altitude.html">altitude()</a></li><li><a href="../location/areacode.html">areacode()</a></li><li><a href="../location/city.html">city()</a></li><li><a href="../location/coordinates.html">coordinates()</a></li><li><a href="../location/country.html">country()</a></li><li><a href="../location/depth.html">depth()</a></li><li><a href="../location/geohash.html">geohash()</a></li><li><a href="../location/latitude.html">latitude()</a></li><li><a href="../location/longitude.html">longitude()</a></li><li><a href="../location/phone.html">phone()</a></li><li><a href="../location/postal.html">postal()</a></li><li><a href="../location/province.html">province()</a></li><li><a href="../location/state.html">state()</a></li><li><a href="../location/street.html">street()</a></li><li><a href="../location/zip.html">zip()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_time')">Time</span><ul class="hidden" id="navi_time"><li><a href="../time/ampm.html">ampm()</a></li><li><a href="../time/date.html">date()</a></li><li><a href="../time/hammertime.html">hammertime()</a></li><li><a href="../time/hour.html">hour()</a></li><li><a href="../time/millisecond.html">millisecond()</a></li><li><a href="../time/minute.html">minute()</a></li><li><a href="../time/month.html">month()</a></li><li><a href="../time/second.html">second()</a></li><li><a href="../time/timestamp.html">timestamp()</a></li><li><a href="../time/timezone.html">timezone()</a></li><li><a href="../time/weekday.html">weekday()</a></li><li><a href="../time/year.html">year()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_finance')">Finance</span><ul class="hidden" id="navi_finance"><li><a href="../finance/cc.html">cc()</a></li><li><a href="../finance/cc_type.html">cc_type()</a></li><li><a href="../finance/currency.html">currency()</a></li><li><a href="../finance/currency_pair.html">currency_pair()</a></li><li><a href="../finance/dollar.html">dollar()</a></li><li><a href="../finance/euro.html">euro()</a></li><li><a href="../finance/exp.html">exp()</a></li><li><a href="../finance/exp_month.html">exp_month()</a></li><li><a href="../finance/exp_year.html">exp_year()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_helpers')">Helpers</span><ul class="hidden" id="navi_helpers"><li><a href="../helpers/capitalize.html">capitalize()</a></li><li><a href="../helpers/mixin.html">mixin()</a></li><li><a href="../helpers/pad.html">pad()</a></li><li><a href="../helpers/pick.html">pick()</a></li><li><a href="../helpers/pickone.html">pickone()</a></li><li><a href="../helpers/pickset.html">pickset()</a></li><li><a href="../helpers/set.html">set()</a></li><li><a href="../helpers/shuffle.html">shuffle()</a></li></ul></li><li><span onclick="toggleNaviSubMenu('navi_miscellaneous')">Miscellaneous</span><ul id="navi_miscellaneous"><li><a href="../miscellaneous/coin.html">coin()</a></li><li><a href="../miscellaneous/dice.html">dice()</a></li><li><a href="../miscellaneous/guid.html">guid()</a></li><li><a href="../miscellaneous/hash.html">hash()</a></li><li><a href="../miscellaneous/hidden.html">hidden()</a></li><li><a href="../miscellaneous/n.html">n()</a></li><li><a href="../miscellaneous/normal.html">normal()</a></li><li><a href="../miscellaneous/radio.html">radio()</a></li><li><a href="../miscellaneous/rpg.html">rpg()</a></li><li><a href="../miscellaneous/tv.html">tv()</a></li><li><a class="active" href="../miscellaneous/unique.html">unique()</a></li><li><a href="../miscellaneous/weighted.html">weighted()</a></li></ul></li></ul></div><div id="content"><div id="main"><div id="barba-wrapper"><div class="barba-container"><h1>unique()</h1><div id="update_date"><span>更新日: 2018.09.04
</span></div><h2>unique()</h2><pre><code><span class="hljs-comment">// 使い方</span>
chance.n(chance.email, <span class="hljs-number">5</span>)
chance.n(chance.email, <span class="hljs-number">5</span>, { <span class="hljs-attr">domain</span>: <span class="hljs-string">"socialradar.com"</span> })</code></pre><p><code>unique()</code>に、ランダムなデータを生成する任意の関数(通常は他のChance関数)と、
数値(データを生成する個数)を渡すことで、
指定した個数のユニークなデータを格納した配列を生成します。</p><pre><code>chance.unique(chance.state, <span class="hljs-number">5</span>);
=&gt; [<span class="hljs-string">"SC"</span>, <span class="hljs-string">"WA"</span>, <span class="hljs-string">"CO"</span>, <span class="hljs-string">"TX"</span>, <span class="hljs-string">"ND"</span>]</code></pre><p>限られた数の選択肢と、それぞれが確実にユニークなデータ一式が欲しい場合に非常に便利です。</p><br><p><code>comparator</code>は、生成されたデータが、データリストに既に存在するかどうかを判断するために使用します。<br>デフォルトでは、新しく生成されたデータが配列内にあるかどうかを確認するだけです。
これは単純なケース(<a href="../location/state.html"><code>sate()</code></a>等)であれば正常に動作しますが、
生成されたデータがオブジェクトの場合は機能しません。
(<code>Array.prototype.indexOf()</code>メソッドが、オブジェクトでは機能せず、
同じオブジェクトへの参照ではない限り、2つのオブジェクトが厳密に等しくないためです。)</p><pre><code>chance.unique(chance.currency, <span class="hljs-number">2</span>, {
  <span class="hljs-attr">comparator</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, val</span>) </span>{
    <span class="hljs-keyword">return</span> arr.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">acc, item</span>) </span>{
      <span class="hljs-keyword">return</span> acc || (item.code === val.code);
    }, <span class="hljs-literal">false</span>);
  }
});
=&gt; [{ <span class="hljs-attr">code</span>: <span class="hljs-string">"KYF"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Cayman Islands Dollar"</span> }, { <span class="hljs-attr">code</span>: <span class="hljs-string">"CDF"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Congo/Kinshasa Franc"</span> }]</code></pre><br><p>任意の関数に渡すオプションは、数値(生成する個数)の後に指定することができます。</p><p>例えば、<code>0</code>～<code>100</code>までの10個のユニークな数字を取得する場合、<a href="../basics/integer.html"><code>integer()</code></a>を指定して、
取得したい個数<code>10</code>、<code>min</code>/<code>max</code>を指定することで、簡単に実現できます。</p><pre><code>chance.unique(chance.integer, <span class="hljs-number">10</span>, {<span class="hljs-attr">min</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">100</span>});
=&gt; [<span class="hljs-number">78</span>, <span class="hljs-number">49</span>, <span class="hljs-number">7</span>, <span class="hljs-number">87</span>, <span class="hljs-number">59</span>, <span class="hljs-number">89</span>, <span class="hljs-number">84</span>, <span class="hljs-number">62</span>, <span class="hljs-number">60</span>, <span class="hljs-number">63</span>]</code></pre><br><p>ユニークな数値を生成することができない場合があります。
例えば、上記のようにランダム関数として<a href="../location/state.html"><code>state()</code></a>を指定し、<code>55</code>個のユニークな値を取得したい場合、
Chanceは<code>RangeError</code>をスローします。
これは利用可能なプール(州名リスト:50州 + コロンビア特別区)には<code>51</code>個のデータしか無く、
<code>55</code>個のユニークな値を取得するのは不可能であるためです。</p><pre><code>chance.unique(chance.state, <span class="hljs-number">55</span>);
=&gt; <span class="hljs-built_in">RangeError</span>: Chance: num is likely too large <span class="hljs-keyword">for</span> sample set</code></pre><br><h3>デモ</h3><p>ボタンを押すと、5色の色名配列からランダムでユニークな3つの名前を表示します。</p><button id="get-result">結果表示</button><div><span>結果：</span><span id="result"></span></div><h5>JavaScript</h5><pre><code><span class="hljs-keyword">var</span> button = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'get-result'</span>);
button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> chance = <span class="hljs-keyword">new</span> Chance(),
      colors = [<span class="hljs-string">'red'</span>, <span class="hljs-string">'blue'</span>, <span class="hljs-string">'green'</span>, <span class="hljs-string">'black'</span>, <span class="hljs-string">'white'</span>],
      unique = chance.unique(chance.pickone, <span class="hljs-number">3</span>, colors),
      result = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'result'</span>),
      ul, li;
  ul = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'ul'</span>);
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; unique.length; i++) {
    li = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'li'</span>);
    li.textContent = unique[i];
    ul.appendChild(li);
  }
  <span class="hljs-keyword">if</span> (result.firstChild !== <span class="hljs-literal">null</span>) {
    result.removeChild(result.firstChild);
  }
  result.appendChild(ul);
}, <span class="hljs-literal">false</span>);
</code></pre><h5>HTML</h5><pre><code><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"get-result"</span>&gt;</span>結果表示<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>結果：<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"result"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><script class="load">createObj = function() {
  if (document.querySelector('#result')) {
    var button = document.getElementById('get-result');
    button.addEventListener('click', function() {
      var chance = new Chance(),
          colors = ['red', 'blue', 'green', 'black', 'white'],
          unique = chance.unique(chance.pickone, 3, colors),
          result = document.getElementById('result'),
          ul, li;
      ul = document.createElement('ul');
      for (var i = 0; i < unique.length; i++) {
        li = document.createElement('li');
        li.textContent = unique[i];
        ul.appendChild(li);
      }
      if (result.firstChild !== null) {
        result.removeChild(result.firstChild);
      }
      result.appendChild(ul);
    }, false);
  }
}</script><br><div class="license"><p>&copy; 2015
 Victor Quinn Released under the <a href="https://github.com/chancejs/chancejs/blob/master/LICENSE">MIT license</a></p><p>このコンテンツはVictor Quinn(victorquinn)による<a href="http://chancejs.com/index.html">Chanceドキュメント</a>を翻訳/改変したものです。</p></div></div></div></div></div><footer><span> &copy; <span id="copy_year">2017</span> tobijibu</span></footer></div><noscript id="deferred-styles"><link href="../css/lazy.css" rel="stylesheet"></noscript><script src="../js/main.js" defer></script><script src="../js/chance.min.js"></script><div id="src" hidden></div></body></html>